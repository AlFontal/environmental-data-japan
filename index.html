<!DOCTYPE html>

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><head>
<meta charset="utf-8"/>
<meta content="quarto-1.2.280" name="generator"/>
<meta content="width=device-width, initial-scale=1.0, user-scalable=yes" name="viewport"/>
<title>Japan’s Environmental Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta content="./" name="quarto:offset"/>
<link href="./assets/favicon.ico" rel="icon"/>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet"/>
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" id="quarto-text-highlighting-styles" rel="stylesheet"/>
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet"/>
<link data-mode="light" href="site_libs/bootstrap/bootstrap.min.css" id="quarto-bootstrap" rel="stylesheet"/>
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<link href="custom.css" rel="stylesheet"/>
</head>
<body class="nav-fixed">
<div id="quarto-search-results"></div>
<header class="headroom fixed-top" id="quarto-header">
<nav class="navbar navbar-expand-lg navbar-dark">
<div class="navbar-container container-fluid">
<div class="navbar-brand-container">
<a class="navbar-brand" href="./index.html">
<span class="navbar-title">Japan’s Environmental Data</span>
</a>
</div>
<button aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-bs-target="#navbarCollapse" data-bs-toggle="collapse" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarCollapse">
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
<a aria-current="page" class="nav-link active" href="./index.html">
<span class="menu-text">Home</span></a>
</li>
<li class="nav-item dropdown">
<a aria-expanded="false" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" id="nav-menu-reports" role="button">
<span class="menu-text">Reports</span>
</a>
<ul aria-labelledby="nav-menu-reports" class="dropdown-menu dropdown-menu-end">
<li>
<a class="dropdown-item" href="./prefecture_weighted_averages.html">
<span class="dropdown-text">Prefecture Weighted Estimates</span></a>
</li>
</ul>
</li>
<li class="nav-item dropdown">
<a aria-expanded="false" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" id="nav-menu-about" role="button">
<span class="menu-text">About</span>
</a>
<ul aria-labelledby="nav-menu-about" class="dropdown-menu dropdown-menu-end">
<li>
<a class="dropdown-item" href="./index.qmd">
<span class="dropdown-text">This Site</span></a>
</li>
<li>
<a class="dropdown-item" href="https://www.isglobal.org/en">
<span class="dropdown-text">ISGlobal</span></a>
</li>
<li>
<a class="dropdown-item" href="https://www.isglobal.org/en/-/clima-y-salud">
<span class="dropdown-text">Climate &amp; Health Programme</span></a>
</li>
<li>
<a class="dropdown-item" href="https://www.helical-itn.eu/">
<span class="dropdown-text">HELICAL ITN</span></a>
</li>
<li>
<a class="dropdown-item" href="https://alfontal.github.io">
<span class="dropdown-text">Alejandro Fontal</span></a>
</li>
</ul>
</li>
<li class="nav-item dropdown">
<a aria-expanded="false" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" id="nav-menu-bi-github" role="button">
<i class="bi bi-github" role="img">
</i>
<span class="menu-text"></span>
</a>
<ul aria-labelledby="nav-menu-bi-github" class="dropdown-menu dropdown-menu-end">
<li>
<a class="dropdown-item" href="https://github.com/AlFontal/environmental-data-japan">
<span class="dropdown-text">GitHub Repository</span></a>
</li>
<li>
<a class="dropdown-item" href="https://github.com/AlFontal/environmental-data-japan">
<span class="dropdown-text">Raise an issue</span></a>
</li>
</ul>
</li>
<li class="nav-item compact">
<a class="nav-link" href="mailto:alejandro.fontal.92@gmail.com"><i aria-label="Mail" class="bi bi-envelope" role="img">
</i>
<span class="menu-text"></span></a>
</li>
</ul>
<div class="" id="quarto-search" title="Search"></div>
</div> <!-- /navcollapse -->
</div> <!-- /container-fluid -->
</nav>
</header>
<!-- content -->
<div class="quarto-container page-columns page-rows-contents page-layout-article page-navbar" id="quarto-content">
<!-- sidebar -->
<!-- margin-sidebar -->
<div class="sidebar margin-sidebar" id="quarto-margin-sidebar">
<nav class="toc-active" id="TOC" role="doc-toc">
<h2 id="toc-title">CONTENTS</h2>
<ul>
<li><a class="nav-link active" data-scroll-target="#japans-environmental-data" href="#japans-environmental-data" id="toc-japans-environmental-data">Japan’s environmental Data</a>
<ul class="collapse">
<li><a class="nav-link" data-scroll-target="#the-stations" href="#the-stations" id="toc-the-stations">The stations</a></li>
<li><a class="nav-link" data-scroll-target="#variables-measured" href="#variables-measured" id="toc-variables-measured">Variables measured</a></li>
<li><a class="nav-link" data-scroll-target="#datasets" href="#datasets" id="toc-datasets">Datasets</a>
<ul class="collapse">
<li><a class="nav-link" data-scroll-target="#station-data" href="#station-data" id="toc-station-data">(1) Station data</a></li>
<li><a class="nav-link" data-scroll-target="#municipalities" href="#municipalities" id="toc-municipalities">(2) Municipalities</a></li>
<li><a class="nav-link" data-scroll-target="#prefectures" href="#prefectures" id="toc-prefectures">(3) Prefectures</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
</div>
<!-- main -->
<main class="content" id="quarto-document-content">
<section class="level1" id="japans-environmental-data">
<h1>Japan’s environmental Data</h1>
<p><img alt="License Badge" class="img-fluid" src="https://img.shields.io/github/license/AlFontal/environmental-data-japan?color=blue.png"/> <img alt="Pages Badge" class="img-fluid" src="https://github.com/AlFontal/environmental-data-japan/actions/workflows/deploy.yml/badge.svg"/> <a href="https://alfontal.github.io/environmental-data-japan"><img alt="Pages site badge" class="img-fluid" src="https://img.shields.io/badge/Pages%20Site-Online-green.png"/></a></p>
<p><a href="https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/stations/clean"><img alt="Stations data" class="img-fluid" src="https://img.shields.io/badge/Stations-Download-orange.png"/></a> <a href="https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/municipalities"><img alt="Municipal data" class="img-fluid" src="https://img.shields.io/badge/Municipalities-Download-orange.png"/></a> <a href="https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/prefectures"><img alt="Prefectures data" class="img-fluid" src="https://img.shields.io/badge/Prefectures-Download-orange.png"/></a></p>
<p>Repository collecting and organizing environmental data sources for Japan.</p>
<p>Here, we have downloaded and processed the data available through the site made available by the Japanese National Institute for Environmental Studies (NIES) (<a class="uri" href="https://tenbou.nies.go.jp/download/">https://tenbou.nies.go.jp/download/</a>).</p>
<p>More specifically, we have downloaded the Air Pollution Monitoring data for a total of 2039 stations located around the whole country (represented as red dots in the map below):</p>
<p><img alt="Japanese Monitoring Stations Map" src="https://github.com/AlFontal/environmental-data-japan/raw/main/data/air_pollution/stations/doc/stations_map.png" title="Japanese Monitoring Stations Map" width="800px"/></p>
<section class="level2" id="the-stations">
<h2 class="anchored" data-anchor-id="the-stations">The stations</h2>
<p>Information for the exact location of each station (latitude, longitude and altitude) and the environmental variables available can be found in the table in <a href="https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/stations/doc/stations_info.csv"><code>/data/air_pollution/stations/doc/stations_info.csv</code></a></p>
</section>
<section class="level2" id="variables-measured">
<h2 class="anchored" data-anchor-id="variables-measured">Variables measured</h2>
<p>Since the repository includes data for over 2000 stations, the measured variables in each of them are rather heterogeneous. The data is provided in hourly format by the Japanese NIES, and the processed files available in this repository provide the data with a daily frequency, so an aggregation method has been used. The following table summarizes the selected variables, their units, and the aggregation method used to summarize them.</p>
<table class="table">
<colgroup>
<col style="width: 15%"/>
<col style="width: 43%"/>
<col style="width: 12%"/>
<col style="width: 28%"/>
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><strong>Variable</strong></th>
<th><strong>Name</strong></th>
<th style="text-align: center;"><strong>Units</strong></th>
<th style="text-align: center;"><strong>Aggregation Method</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><strong>SO2</strong></td>
<td>Sulfur Dioxide</td>
<td style="text-align: center;">ppm</td>
<td style="text-align: center;">Daily Mean</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>NO</strong></td>
<td>Nitric Oxide</td>
<td style="text-align: center;">ppm</td>
<td style="text-align: center;">Daily Mean</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>NO2</strong></td>
<td>Nitrogen Dioxide</td>
<td style="text-align: center;">ppm</td>
<td style="text-align: center;">Daily Mean</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>NOX</strong></td>
<td>Nitrogen Oxides</td>
<td style="text-align: center;">ppm</td>
<td style="text-align: center;">Daily Mean</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>CO</strong></td>
<td>Carbon Monoxide</td>
<td style="text-align: center;">ppm</td>
<td style="text-align: center;">Daily Mean</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>OX</strong></td>
<td>Photochemical Oxidants</td>
<td style="text-align: center;">ppm</td>
<td style="text-align: center;">Daily Mean</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>NMHC</strong></td>
<td>Non-methane Hydrocarbons</td>
<td style="text-align: center;">ppmC</td>
<td style="text-align: center;">Daily Mean</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>CH4</strong></td>
<td>Methane</td>
<td style="text-align: center;">ppmC</td>
<td style="text-align: center;">Daily Mean</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>THC</strong></td>
<td>Total Hydrocarbons</td>
<td style="text-align: center;">ppmC</td>
<td style="text-align: center;">Daily Mean</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>SPM</strong></td>
<td>Suspended Particulate Matter (&lt;10µm)</td>
<td style="text-align: center;">mg/m³</td>
<td style="text-align: center;">Daily Mean</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>PM2.5</strong></td>
<td>Particulate matter (&lt;2.5µm)</td>
<td style="text-align: center;">µg/m³</td>
<td style="text-align: center;">Daily Mean</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>TEMP</strong></td>
<td>Temperature</td>
<td style="text-align: center;">°C</td>
<td style="text-align: center;">Daily Min, Mean and Max</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>HUM</strong></td>
<td>Relative Humidity</td>
<td style="text-align: center;">%</td>
<td style="text-align: center;">Daily Min, Mean and Max</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>RAIN</strong></td>
<td>Total Precipitation</td>
<td style="text-align: center;">mm</td>
<td style="text-align: center;">Daily Sum</td>
</tr>
</tbody>
</table>
</section>
<section class="level2" id="datasets">
<h2 class="anchored" data-anchor-id="datasets">Datasets</h2>
<section class="level3" id="station-data">
<h3 class="anchored" data-anchor-id="station-data">(1) Station data</h3>
<p>Daily data for each station and its measured variables from 2011-01-01 to 2018-12-31 can be accessed in the <a href="https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/stations/clean"><code>data/air_pollution/stations/clean</code></a> folder, classified in subfolders according to the prefecture where they are located.</p>
</section>
<section class="level3" id="municipalities">
<h3 class="anchored" data-anchor-id="municipalities">(2) Municipalities</h3>
<p>Averaged daily data for all stations within each municipality in Japan during the same period can be found in the <a href="https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/municipalities/"><code>data/air_pollution/municipalities</code></a> folder, with the first 2 digits of each CSV file indicating the prefecture code and the last 3 digits indicating the municipal code.</p>
</section>
<section class="level3" id="prefectures">
<h3 class="anchored" data-anchor-id="prefectures">(3) Prefectures</h3>
<p>Estimates of the daily data for each prefecture have been estimated by averaging over the municipal averages in each prefecture.</p>
<p>At this point, three different methods have been used to compute the averages, weighing the municipalities differently according to diverse criteria:</p>
<ul>
<li><p><strong>Area-based weighted averages</strong>: These averages are completely population-naïve and try to better estimate the overall values for each variable across the whole area of the prefecture, wheighing high and low population density areas exactly the same. The time-series for these can be found in <a href="https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/prefectures/area_weighted"><code>data/air_pollution/prefectures/area_weighted</code></a>.</p></li>
<li><p><strong>Population-weighted averages</strong>: These averages are computed trying to estimate the values of each variable that represent the most accurate exposure of the population of each prefecture to each pollutant/meteorological variable. For this purpose, the values for each variable have been averaged weighing every municipal term according to their population share in the prefecture. The time-series for these can be found in <a href="https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/prefectures/population_weighted"><code>data/air_pollution/prefectures/population_weighted</code></a>.</p></li>
<li><p><strong>Infant population-weighted averages</strong>: Following the same principal as the previous averages, these include the daily prefecture-level estimates of each measured variable based on the share of <em>children under 5 years old</em> in each municipal term. The time-series for these can be found in <a href="https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/prefectures/under_5_weighted"><code>data/air_pollution/prefectures/under_5_weighted</code></a>.</p></li>
</ul>
<section class="level4" id="population-coverage">
<h4 class="anchored" data-anchor-id="population-coverage">Population coverage</h4>
<p>The following figure shows the ratio of population covered by the stations in each prefecture (as a ratio of the people living in municipalities with at least one monitoring station):</p>
<p><img alt="Coverage of Japanese Monitoring Stations" src="https://github.com/AlFontal/environmental-data-japan/raw/main/data/doc/images/prefectures_vertical.png" title="Coverage of Japanese Monitoring Stations" width="900px"/></p>
<!-- -->
</section>
</section>
</section>
</section>
</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div aria-hidden="true" aria-labelledby="quarto-embedded-source-code-modal-label" class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" data-shortcodes="false" id="cb1"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a aria-hidden="true" href="#cb1-1" tabindex="-1"></a><span class="fu"># Japan's environmental Data</span></span>
<span id="cb1-2"><a aria-hidden="true" href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a aria-hidden="true" href="#cb1-3" tabindex="-1"></a><span class="al">![License Badge](https://img.shields.io/github/license/AlFontal/environmental-data-japan?color=blue)</span></span>
<span id="cb1-4"><a aria-hidden="true" href="#cb1-4" tabindex="-1"></a><span class="al">![Pages Badge](https://github.com/AlFontal/environmental-data-japan/actions/workflows/deploy.yml/badge.svg)</span></span>
<span id="cb1-5"><a aria-hidden="true" href="#cb1-5" tabindex="-1"></a><span class="co">[</span><span class="al">![Pages site badge](https://img.shields.io/badge/Pages%20Site-Online-green)</span><span class="co">](https://alfontal.github.io/environmental-data-japan)</span></span>
<span id="cb1-6"><a aria-hidden="true" href="#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a aria-hidden="true" href="#cb1-7" tabindex="-1"></a><span class="co">[</span><span class="al">![Stations data](https://img.shields.io/badge/Stations-Download-orange)</span><span class="co">](https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/stations/clean)</span></span>
<span id="cb1-8"><a aria-hidden="true" href="#cb1-8" tabindex="-1"></a><span class="co">[</span><span class="al">![Municipal data](https://img.shields.io/badge/Municipalities-Download-orange)</span><span class="co">](https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/municipalities)</span></span>
<span id="cb1-9"><a aria-hidden="true" href="#cb1-9" tabindex="-1"></a><span class="co">[</span><span class="al">![Prefectures data](https://img.shields.io/badge/Prefectures-Download-orange)</span><span class="co">](https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/prefectures)</span></span>
<span id="cb1-10"><a aria-hidden="true" href="#cb1-10" tabindex="-1"></a></span>
<span id="cb1-11"><a aria-hidden="true" href="#cb1-11" tabindex="-1"></a>Repository collecting and organizing environmental data sources for Japan.</span>
<span id="cb1-12"><a aria-hidden="true" href="#cb1-12" tabindex="-1"></a></span>
<span id="cb1-13"><a aria-hidden="true" href="#cb1-13" tabindex="-1"></a>Here, we have downloaded and processed the data available through the site made available by the Japanese National Institute for Environmental Studies (NIES) (<span class="ot">&lt;https://tenbou.nies.go.jp/download/&gt;</span>).</span>
<span id="cb1-14"><a aria-hidden="true" href="#cb1-14" tabindex="-1"></a></span>
<span id="cb1-15"><a aria-hidden="true" href="#cb1-15" tabindex="-1"></a>More specifically, we have downloaded the Air Pollution Monitoring data for a total of 2039 stations located around the whole country (represented as red dots in the map below):</span>
<span id="cb1-16"><a aria-hidden="true" href="#cb1-16" tabindex="-1"></a></span>
<span id="cb1-17"><a aria-hidden="true" href="#cb1-17" tabindex="-1"></a><span class="kw">&lt;img</span> <span class="er">src</span><span class="ot">=</span><span class="st">"https://github.com/AlFontal/environmental-data-japan/raw/main/data/air_pollution/stations/doc/stations_map.png"</span> <span class="er">alt</span><span class="ot">=</span><span class="st">"Japanese Monitoring Stations Map"</span> <span class="er">title</span><span class="ot">=</span><span class="st">"Japanese Monitoring Stations Map"</span> <span class="er">width</span><span class="ot">=</span><span class="st">800px</span><span class="kw">&gt;</span></span>
<span id="cb1-18"><a aria-hidden="true" href="#cb1-18" tabindex="-1"></a></span>
<span id="cb1-19"><a aria-hidden="true" href="#cb1-19" tabindex="-1"></a><span class="fu">## The stations</span></span>
<span id="cb1-20"><a aria-hidden="true" href="#cb1-20" tabindex="-1"></a></span>
<span id="cb1-21"><a aria-hidden="true" href="#cb1-21" tabindex="-1"></a>Information for the exact location of each station (latitude, longitude and altitude) and the environmental variables available can be found in the table in <span class="co">[</span><span class="ot">`/data/air_pollution/stations/doc/stations_info.csv`</span><span class="co">](https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/stations/doc/stations_info.csv)</span></span>
<span id="cb1-22"><a aria-hidden="true" href="#cb1-22" tabindex="-1"></a></span>
<span id="cb1-23"><a aria-hidden="true" href="#cb1-23" tabindex="-1"></a><span class="fu">## Variables measured</span></span>
<span id="cb1-24"><a aria-hidden="true" href="#cb1-24" tabindex="-1"></a></span>
<span id="cb1-25"><a aria-hidden="true" href="#cb1-25" tabindex="-1"></a>Since the repository includes data for over 2000 stations, the measured variables in each of them are rather heterogeneous. The data is provided in hourly format by the Japanese NIES, and the processed files available in this repository provide the data with a daily frequency, so an aggregation method has been used. The following table summarizes the selected variables, their units, and the aggregation method used to summarize them.</span>
<span id="cb1-26"><a aria-hidden="true" href="#cb1-26" tabindex="-1"></a></span>
<span id="cb1-27"><a aria-hidden="true" href="#cb1-27" tabindex="-1"></a>| **Variable**  | **Name**                              | **Units**  |  **Aggregation Method**  |</span>
<span id="cb1-28"><a aria-hidden="true" href="#cb1-28" tabindex="-1"></a>|:------------: |-------------------------------------- |:---------: |:-----------------------: |</span>
<span id="cb1-29"><a aria-hidden="true" href="#cb1-29" tabindex="-1"></a>| **SO2**       | Sulfur Dioxide                        | ppm        | Daily Mean               |</span>
<span id="cb1-30"><a aria-hidden="true" href="#cb1-30" tabindex="-1"></a>| **NO**        | Nitric Oxide                          | ppm        | Daily Mean               |</span>
<span id="cb1-31"><a aria-hidden="true" href="#cb1-31" tabindex="-1"></a>| **NO2**       | Nitrogen Dioxide                      | ppm        | Daily Mean               |</span>
<span id="cb1-32"><a aria-hidden="true" href="#cb1-32" tabindex="-1"></a>| **NOX**       | Nitrogen Oxides                       | ppm        | Daily Mean               |</span>
<span id="cb1-33"><a aria-hidden="true" href="#cb1-33" tabindex="-1"></a>| **CO**        | Carbon Monoxide                       | ppm        | Daily Mean               |</span>
<span id="cb1-34"><a aria-hidden="true" href="#cb1-34" tabindex="-1"></a>| **OX**        | Photochemical Oxidants                | ppm        | Daily Mean               |</span>
<span id="cb1-35"><a aria-hidden="true" href="#cb1-35" tabindex="-1"></a>| **NMHC**      | Non-methane Hydrocarbons              | ppmC       | Daily Mean               |</span>
<span id="cb1-36"><a aria-hidden="true" href="#cb1-36" tabindex="-1"></a>| **CH4**       | Methane                               | ppmC       | Daily Mean               |</span>
<span id="cb1-37"><a aria-hidden="true" href="#cb1-37" tabindex="-1"></a>| **THC**       | Total Hydrocarbons                    | ppmC       | Daily Mean               |</span>
<span id="cb1-38"><a aria-hidden="true" href="#cb1-38" tabindex="-1"></a>| **SPM**       | Suspended Particulate Matter (&lt;10µm)  | mg/m³      | Daily Mean               |</span>
<span id="cb1-39"><a aria-hidden="true" href="#cb1-39" tabindex="-1"></a>| **PM2.5**     | Particulate matter (&lt;2.5µm)           | µg/m³      | Daily Mean               |</span>
<span id="cb1-40"><a aria-hidden="true" href="#cb1-40" tabindex="-1"></a>| **TEMP**      | Temperature                           | °C         | Daily Min, Mean and Max  |</span>
<span id="cb1-41"><a aria-hidden="true" href="#cb1-41" tabindex="-1"></a>| **HUM**       | Relative Humidity                     | %          | Daily Min, Mean and Max  |</span>
<span id="cb1-42"><a aria-hidden="true" href="#cb1-42" tabindex="-1"></a>| **RAIN**      | Total Precipitation                   | mm         | Daily Sum                |</span>
<span id="cb1-43"><a aria-hidden="true" href="#cb1-43" tabindex="-1"></a></span>
<span id="cb1-44"><a aria-hidden="true" href="#cb1-44" tabindex="-1"></a></span>
<span id="cb1-45"><a aria-hidden="true" href="#cb1-45" tabindex="-1"></a><span class="fu">## Datasets</span></span>
<span id="cb1-46"><a aria-hidden="true" href="#cb1-46" tabindex="-1"></a></span>
<span id="cb1-47"><a aria-hidden="true" href="#cb1-47" tabindex="-1"></a><span class="fu">### (1) Station data</span></span>
<span id="cb1-48"><a aria-hidden="true" href="#cb1-48" tabindex="-1"></a></span>
<span id="cb1-49"><a aria-hidden="true" href="#cb1-49" tabindex="-1"></a>Daily data for each station and its measured variables from 2011-01-01 to 2018-12-31 can be accessed in the <span class="co">[</span><span class="ot">`data/air_pollution/stations/clean`</span><span class="co">](https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/stations/clean)</span> folder, classified in subfolders according to the prefecture where they are located.</span>
<span id="cb1-50"><a aria-hidden="true" href="#cb1-50" tabindex="-1"></a></span>
<span id="cb1-51"><a aria-hidden="true" href="#cb1-51" tabindex="-1"></a><span class="fu">### (2) Municipalities</span></span>
<span id="cb1-52"><a aria-hidden="true" href="#cb1-52" tabindex="-1"></a></span>
<span id="cb1-53"><a aria-hidden="true" href="#cb1-53" tabindex="-1"></a>Averaged daily data for all stations within each municipality in Japan during the same period can be found in the <span class="co">[</span><span class="ot">`data/air_pollution/municipalities`</span><span class="co">](https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/municipalities/)</span> folder, with the first 2 digits of each CSV file indicating the prefecture code and the last 3 digits indicating the municipal code.</span>
<span id="cb1-54"><a aria-hidden="true" href="#cb1-54" tabindex="-1"></a></span>
<span id="cb1-55"><a aria-hidden="true" href="#cb1-55" tabindex="-1"></a><span class="fu">### (3) Prefectures</span></span>
<span id="cb1-56"><a aria-hidden="true" href="#cb1-56" tabindex="-1"></a></span>
<span id="cb1-57"><a aria-hidden="true" href="#cb1-57" tabindex="-1"></a>Estimates of the daily data for each prefecture have been estimated by averaging over the municipal averages in each prefecture.</span>
<span id="cb1-58"><a aria-hidden="true" href="#cb1-58" tabindex="-1"></a></span>
<span id="cb1-59"><a aria-hidden="true" href="#cb1-59" tabindex="-1"></a>At this point, three different methods have been used to compute the averages, weighing the municipalities differently according to diverse criteria:</span>
<span id="cb1-60"><a aria-hidden="true" href="#cb1-60" tabindex="-1"></a></span>
<span id="cb1-61"><a aria-hidden="true" href="#cb1-61" tabindex="-1"></a><span class="ss">+ </span>**Area-based weighted averages**: These averages are completely population-naïve and try to better estimate the overall values for each variable across the whole area of the prefecture, wheighing high and low population density areas exactly the same. The time-series for these can be found in <span class="co">[</span><span class="ot">`data/air_pollution/prefectures/area_weighted`</span><span class="co">](https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/prefectures/area_weighted)</span>.</span>
<span id="cb1-62"><a aria-hidden="true" href="#cb1-62" tabindex="-1"></a></span>
<span id="cb1-63"><a aria-hidden="true" href="#cb1-63" tabindex="-1"></a><span class="ss">+ </span>**Population-weighted averages**: These averages are computed trying to estimate the values of each variable that represent the most accurate exposure of the population of each prefecture to each pollutant/meteorological variable. For this purpose, the values for each variable have been averaged weighing every municipal term according to their population share in the prefecture. The time-series for these can be found in <span class="co">[</span><span class="ot">`data/air_pollution/prefectures/population_weighted`</span><span class="co">](https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/prefectures/population_weighted)</span>.</span>
<span id="cb1-64"><a aria-hidden="true" href="#cb1-64" tabindex="-1"></a></span>
<span id="cb1-65"><a aria-hidden="true" href="#cb1-65" tabindex="-1"></a><span class="ss">+ </span>**Infant population-weighted averages**: Following the same principal as the previous averages, these include the daily prefecture-level estimates of each measured variable based on the share of *children under 5 years old* in each municipal term. The time-series for these can be found in <span class="co">[</span><span class="ot">`data/air_pollution/prefectures/under_5_weighted`</span><span class="co">](https://github.com/AlFontal/environmental-data-japan/tree/main/data/air_pollution/prefectures/under_5_weighted)</span>.</span>
<span id="cb1-66"><a aria-hidden="true" href="#cb1-66" tabindex="-1"></a></span>
<span id="cb1-67"><a aria-hidden="true" href="#cb1-67" tabindex="-1"></a></span>
<span id="cb1-68"><a aria-hidden="true" href="#cb1-68" tabindex="-1"></a><span class="fu">#### Population coverage</span></span>
<span id="cb1-69"><a aria-hidden="true" href="#cb1-69" tabindex="-1"></a></span>
<span id="cb1-70"><a aria-hidden="true" href="#cb1-70" tabindex="-1"></a>The following figure shows the ratio of population covered by the stations in each prefecture (as a ratio of the people living in municipalities with at least one monitoring station):</span>
<span id="cb1-71"><a aria-hidden="true" href="#cb1-71" tabindex="-1"></a></span>
<span id="cb1-72"><a aria-hidden="true" href="#cb1-72" tabindex="-1"></a><span class="kw">&lt;img</span> <span class="er">src</span><span class="ot">=</span><span class="st">"https://github.com/AlFontal/environmental-data-japan/raw/main/data/doc/images/prefectures_vertical.png"</span> <span class="er">alt</span><span class="ot">=</span><span class="st">"Coverage of Japanese Monitoring Stations"</span> <span class="er">title</span><span class="ot">=</span><span class="st">"Coverage of Japanese Monitoring Stations"</span> <span class="er">width</span><span class="ot">=</span><span class="st">900px</span><span class="kw">&gt;</span></span></code><button class="code-copy-button" title="Copy to Clipboard"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
</body></html>